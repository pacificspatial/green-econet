{
  "index.html": {
    "href": "index.html",
    "title": "生態系ネットワーク指標値算出機能",
    "summary": "生態系ネットワーク指標値算出機能 本リポジトリでは、2025年度のProject PLATEAUで開発した「生態系ネットワーク指標値算出機能」のソースコードを公開しています。 本システムは、3D都市モデルを活用した樹木管理機能及び緑の効果の定量的評価を支援する取り組みである「樹木データを活用した温熱環境シミュレータの開発」の一部として開発されたWebアプリケーションです。"
  },
  "manual/devMan.html": {
    "href": "manual/devMan.html",
    "title": "環境構築手順書",
    "summary": "環境構築手順書 1 本書について 本書では、「生態系ネットワーク指標値算出機能」は優良緑地確保計画認定制度(TSUNAG)など国の制度との連携を想定し、国土交通省「都市における生物多様性指標（簡易版）」に基づき、指定したエリア内での生態系ネットワーク指標値を算出する機能を提供します。 本システムは、3D都市モデルを活用した樹木管理機能及び緑の効果の定量的評価を支援する取り組みである「樹木データを活用した温熱環境シミュレータの開発」の一部として開発されたWebアプリケーションです。 本システムの構成や仕様の詳細については以下も参考にしてください. 技術検証レポート 2 動作環境 本システムの動作環境は以下のとおりです。 2-1 サーバー（開発環境） 項目 バージョン 備考 OS Ubuntu 22.04 LTS / macOS 13以降 / Windows 11 (WSL2) Linux 推奨 Node.js 18.x LTS 以上（CI/CDでは20.x使用） フロントエンド・バックエンド共通 npm 9.x 以上 Node.js に同梱 PostgreSQL 14 以上（本番環境は17.7） PostGIS 3.x 必須 Git 2.30 以上 GDAL / ogr2ogr 3.x 以上 空間データ投入時に使用（任意） 2-2 クライアント（ブラウザ） ブラウザ バージョン 備考 Google Chrome 最新安定版 推奨 Microsoft Edge 最新安定版 Chromium ベース Mozilla Firefox 最新安定版 Safari 16 以上 3 事前準備 本システムで利用する下記のソフトウェアおよびサービスを準備します。 （1）Node.js のインストール こちらから Node.js（v18.x LTS 以上）をインストールします。nvm（Node Version Manager）を使ったインストールを推奨します。 （2）PostgreSQL / PostGIS のインストール こちらから PostgreSQL（14 以上）をインストールしてサービスを起動します。その上で、位置情報を扱うための拡張機能である PostGIS をインストールします。インストール後、データベースおよびユーザーを作成してください。 （3）Mapbox アクセストークンの取得 こちらから Mapbox のアカウントを作成し、アクセストークンを取得します。無料プランでも利用可能です。 （4）Amazon S3 の準備（任意） ファイルのアップロード・ダウンロード機能を使用する場合は、こちらから AWS アカウントを取得し、本システムで使用するバケットを作成します。利用するデータサイズに応じたストレージクラスを選択してください。 4 インストール手順 （1）リポジトリの取得 こちらからリポジトリをクローンします。 （2）環境変数の設定 リポジトリには sample.env（フロントエンド用）と server/sample.env（バックエンド用）が用意されています。それぞれをコピーして .env を作成し、以下の値を設定します。 フロントエンド用（リポジトリルート）： VITE_PORT=3000 VITE_MAPBOX_TOKEN=<Mapbox アクセストークン> VITE_BACKEND_URL=<バックエンド API の URL> VITE_EP_SOCKET_PORT=<Socket.IO 接続先> バックエンド用（server/ ディレクトリ）： PORT=4000 NODE_ENV=development AUTH_PASS=<API 認証パスワード> FRONT_END_URL=<フロントエンドの URL> DB_USER=<DBユーザー名> DB_HOST=<DBホスト> DB_NAME=<DB名> DB_PASSWORD=<DBパスワード> DB_PORT=5432 JWT_SECRET=<JWTシークレット> AWS_REGION=<AWSリージョン>（S3使用時のみ） AWS_ACCESS_KEY_ID=<AWSアクセスキー>（S3使用時のみ） AWS_SECRET_ACCESS_KEY=<AWSシークレットキー>（S3使用時のみ） S3_BUCKET_NAME=<S3バケット名>（S3使用時のみ） .env ファイルは .gitignore で管理対象外となっています。誤ってGitにコミットしないよう注意してください。 （3）フロントエンドのセットアップ リポジトリルートで依存パッケージをインストールし、サーバーを起動します。 npm install npm run start （4）バックエンドのセットアップ server/ ディレクトリで依存パッケージをインストールし、サーバーを起動します。 cd server npm install npm run start （5）フロントエンド・バックエンドの同時起動 通常の開発では、リポジトリルートで以下のコマンドを実行することでフロントエンドとバックエンドを同時に起動できます。 npm run dev 5 初期データの投入 データベースにテーブル・スキーマ・ストアドプロシージャを作成し、空間分析に必要な静的レイヤデータを投入します。 （1）スキーマ・テーブルの作成 server/docs/econet_plateau_schema.sql を実行してテーブルおよび空間インデックスを作成します。 psql -U georoot -d green_econet -f server/docs/econet_plateau_schema.sql （2）ストアドプロシージャの登録 server/docs/sql_stored_procedures.sql を実行してストアドプロシージャを登録します。 psql -U georoot -d green_econet -f server/docs/sql_stored_procedures.sql （3）空間レイヤデータの投入 分析に使用する空間レイヤデータ（緑地ポリゴンおよび125mバッファ付き緑地）を layers スキーマのテーブルに投入します。レイヤデータ投入後、アプリケーション上でプロジェクトを作成してポリゴンを描画し、解析処理を実行すると processing スキーマ配下のテーブルにデータが自動的に生成されます。"
  },
  "manual/userMan.html": {
    "href": "manual/userMan.html",
    "title": "操作マニュアル",
    "summary": "操作マニュアル 1 本書について 本書では、「生態系ネットワーク指標値算出機能」（以下「本システム」という。）の操作手順について記載しています。 国土交通省 優良緑地確保計画認定制度(TSUNAG)など国の制度で採用されている国土交通省「都市における生物多様性指標（簡易版）」に基づく、生態系ネットワーク指標値を算出する機能です。 2 使い方 2-1 プロジェクト一覧画面 ① プロジェクト登録 ・左上の「新規プロジェクト作成」ボタンを押し、プロジェクト名称および概要を入力し、登録します ① 対象エリア登録 ・左上の「矩形選択」ボタンを押し、指標値を算出する緑地化を検討する対象のエリアを地図上でクリックしてポリゴンを登録します。 ② 対象エリア面積表示 ・指定したエリアの面積と周辺長が表示されます ③ 生態系ネットワーク指標値算出 ・右下の「設定する」ボタンを押すと、選択したエリアを緑地を追加した場合の生態系ネットワーク指標値の算出を開始します。 ・算出完了後、自動的に「生態系ネットワーク指標値結果画面」に遷移します。 2-2 生態系ネットワーク指標値結果画面 ① 生態系ネットワーク可視化 ・地図画面の左に緑地を追加する以前の生態系ネットワーク、右に緑地を追加した後の生態系ネットワークの状態を表示します ② 生態系ネットワーク指標値表示 ・緑地を追加する以前の生態系ネットワーク指標値（A）と緑地を追加した後の生態系ネットワーク指標値（B）およびB-Aの値を表示します ② エクスポート ・右上のエクスポートボタンで、算出した指標値をPDFまたはExcelでダウンロードすることができます"
  }
}